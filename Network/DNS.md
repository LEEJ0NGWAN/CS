[돌아가기](./README.md)

# DNS

문자(String)로 이루어진 호스트 네임을 실제 주소(ip)로 맵핑시켜주는 서비스를 제공하는 서버

→ 인간이 기억하는 의미있는 문자를 ip 주소로 변환시켜준다

### 브라우저에서 요청 메세지 전송 준비 과정

1. 브라우저에 입력한 url을 추출하여 호스트 네임을 식별
2. 식별된 호스트 네임을 DNS 클라이언트로 전달
3. DNS 클라이언트는 로컬 DNS 서버로 호스트 네임 쿼리 전송
4. DNS 서버가 보낸 응답 메세지를 통해 브라우저는 ip 주소를 설정
5. 브라우저는 해당 ip 주소와 포트를 통해 TCP 연결 시도

# DNS 질의 방법

### 반복적 질의 방법

1. 로컬 DNS로 쿼리 요청 → 해당 요청 내용을 알고 있다면 로컬 DNS가 즉각 응답
2. 로컬 DNS가 요청 내용을 모른다면,
    1. root DNS로 요청 전달 → root DNS가 최상위 DNS(TLD) 주소를 알려줌
    2. TLD로 요청 전달 → TLD가 책임 DNS 주소를 알려줌
    3. 책임 DNS로 요청 전달 → 책임 DNS는 요청 받은 쿼리에 해당되는 ip 주소 알려줌
    4. 책임 DNS로부터 ip 주소를 받아옴
3. 받아온 ip 주소 정보를 사용자에게 알려주고, 자신의 DNS 레코드에도 캐싱

### 재귀적 질의 방법

1. 로컬 DNS로 쿼리 요청 → 해당 요청 내용을 알고 있다면 로컬 DNS가 즉각 응답
2. 로컬 DNS가 요청 내용을 모른다면,
    1. root DNS로 요청 전달 → root DNS가 요청 내용을 알고 있다면 응답
    2. 모른다면 root DNS가 TLD로 요청 전달 → TLD가 요청 내용을 알고 있다면 응답
    3. 모른다면 TLD가 책임 DNS로 요청 전달 → 책임 DNS가 요청 내용을 응답
    4. TLD는 응답 받은 내용을 root DNS로 전달
    5. root DNS는 응답 받은 내용을 로컬 DNS로 전달
3. 받아온 ip 주소 정보를 사용자에게 알려주고, 자신의 DNS 레코드에도 캐싱
